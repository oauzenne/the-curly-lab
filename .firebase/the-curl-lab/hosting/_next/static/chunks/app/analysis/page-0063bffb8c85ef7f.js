(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[809],{8858:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var r=s(5155),a=s(2115),l=s(6766),n=s(6874),o=s.n(n),i=s(3915),c=s(5317),d=s(7505),m=s(5404),u=s(3520),h=s(9509);let x=(0,i.Dk)().length?(0,i.Sx)():(0,i.Wp)({apiKey:"AIzaSyArS_3t3ITDTV-ZjRzDnBOPwNmAyPPh2cc",authDomain:"the-curl-lab.firebaseapp.com",projectId:"the-curl-lab",storageBucket:"the-curl-lab.firebasestorage.app",appId:"1:884494005763:web:3bb3ab4d2ab7576fe0c036"}),p=(0,c.aU)(x),b=(0,d.c7)(x),f=(0,m.xI)(x);async function g(){return f.currentUser||await (0,m.zK)(f),f.currentUser.uid}async function y(e){let{name:t,email:s,consent:r,analysisHTML:a,curlType:l,porosity:n,file:o}=e,i=await g(),m="uploads/".concat(i,"/").concat(Date.now(),"-").concat(o.name),u=(0,d.KR)(b,m);await (0,d.D)(u,o,{contentType:o.type});let h=await (0,d.qk)(u);return{id:(await (0,c.gS)((0,c.rJ)(p,"analyses"),{uid:i,name:t,email:s,consent:r,analysisHTML:a,curlType:l,porosity:n,photoURL:h,storagePath:m,createdAt:(0,c.O5)()})).id,photoURL:h}}function j(){let[e,t]=(0,a.useState)("upload"),[s,n]=(0,a.useState)({name:"",email:"",photo:null,consent:!1}),[i,c]=(0,a.useState)(""),d=(0,a.useRef)(null),[m,u]=(0,a.useState)(""),[h,x]=(0,a.useState)("3B"),[p,b]=(0,a.useState)("Medium"),f=async e=>{e.preventDefault(),t("loading"),u("");try{if(await new Promise(e=>setTimeout(e,1200)),!s.photo){u("Please upload a photo."),t("error");return}let e='\n    <div class="space-y-6 text-[#493979]">\n      <div>\n        <p class="font-bold">Our Strand Scan™ has analyzed your hair texture and identified these characteristics:</p>\n      </div>\n      \n      <div>\n        <h4 class="text-lg font-medium mb-2"><strong class="font-bold ">Curl Type: </strong><span class="bg-[#fff1f2] px-2 py-1 rounded">3B with 2A Tendencies (Type 3B) </span></h4>\n        <p >Your hair shows well-defined spiral curls (3B) in the crown area with looser wave patterns (2A) around the perimeter. This combination affects how products perform in different sections.</p>\n      </div>\n      \n      <div>\n        <h4 class="text-lg font-medium mb-2"><strong class="font-bold">Porosity: </strong><span class="bg-[#fff1f2] px-2 py-1 rounded">Medium-High Porosity</span></h4>        <p class="text-gray-700">Your hair cuticles are moderately raised, meaning it absorbs moisture relatively easily but may lose it quickly without proper sealing.</p>\n      </div>\n      \n      \x3c!-- More detailed analysis would continue --\x3e\n    </div>\n  ';c(e);let{extractedCurlType:r,extractedPorosity:a}=function(e){let t="3B",s="Medium",r=e.match(/(Type\s)?([1234][ABC]?)/i);return r&&r[2]&&(t=r[2].toUpperCase()),e.includes("High Porosity")||e.includes("high porosity")?s="High":(e.includes("Low Porosity")||e.includes("low porosity"))&&(s="Low"),{extractedCurlType:t,extractedPorosity:s}}(e);x(r),b(a),await y({name:s.name.trim(),email:s.email.trim(),consent:s.consent,analysisHTML:e,curlType:r,porosity:a,file:s.photo}),function(e,t){let s={user:{name:e.name,email:e.email,photo:e.photo?e.photo.name:null,date:new Date().toISOString()},analysis:t,viewedUpsells:[]};localStorage.setItem("curlAnalysis_".concat(e.email),JSON.stringify(s))}(s,e),t("results")}catch(e){console.error("Analysis failed:",e),u(e instanceof Error?e.message:"string"==typeof e?e:"Our Strand Scan™ Technology is currently unavailable. Please try again later."),t("error")}},g=()=>{t("upload"),n({name:"",email:"",photo:null,consent:!1}),d.current&&(d.current.value="")};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-purple-50 to-white py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsx)(o(),{href:"https://thecurllab.com",children:(0,r.jsx)("div",{className:"flex items-center justify-center mb-5 md:mb-10",children:(0,r.jsx)(l.default,{src:"/tcl-dark-trans-logo.png",alt:"Curl Lab Light Logo",width:640,height:160,className:"h-auto md:h-32 w-auto",priority:!0})})}),"upload"===e&&(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[(0,r.jsx)("h2",{className:"text-3xl font-semibold text-[#493979] mb-6",children:"Upload Your Hair Photo"}),(0,r.jsxs)("p",{className:"text-[#493979] mb-8",children:[(0,r.jsx)("span",{className:"font-bold",children:"Let's see those beautiful curls!"})," ",(0,r.jsx)("br",{})," Upload a clear photo that showcases your hair texture."]}),(0,r.jsxs)("form",{onSubmit:e=>e.preventDefault(),children:[(0,r.jsx)("input",{type:"file",ref:d,onChange:e=>{e.target.files&&e.target.files[0]&&(n({...s,photo:e.target.files[0]}),t("info"))},accept:"image/*",capture:"user",className:"hidden",id:"hairPhoto",required:!0}),(0,r.jsxs)("label",{htmlFor:"hairPhoto",className:"cursor-pointer bg-[#493979] text-[#FFFFFF] py-3 px-6 rounded-lg font-medium hover:bg-[#ff9a9e] transition duration-200 inline-block mb-4",children:[" ","Choose Photo"]}),s.photo&&(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:s.photo.name})]}),(0,r.jsxs)("p",{className:"text-xs text-gray-400 mt-8",children:["By continuing, you'll receive helpful insights powered by AI. While it's designed to be as accurate as possible, it may not be perfect every time."," "]})]}),"info"===e&&(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,r.jsx)("h2",{className:"text-2xl text-center md:text-left font-semibold text-[#493979] mb-6",children:"Complete Your Analysis"}),(0,r.jsxs)("form",{onSubmit:f,children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-[#493979] mb-2",children:"Your Name"}),(0,r.jsx)("input",{type:"text",id:"name",value:s.name,onChange:e=>n({...s,name:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500 placeholder-gray-400 text-gray-800",required:!0})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-[#493979] mb-2",children:"Email Address"}),(0,r.jsx)("input",{type:"email",id:"email",value:s.email,onChange:e=>n({...s,email:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500 placeholder-gray-400 text-gray-800",required:!0})]}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"flex items-center h-5",children:(0,r.jsx)("input",{id:"consent",type:"checkbox",checked:s.consent,onChange:e=>n({...s,consent:e.target.checked}),className:"focus:ring-purple-500 h-4 w-4 text-purple-600 border-gray-300 rounded",required:!0})}),(0,r.jsx)("label",{htmlFor:"consent",className:"ml-3 block text-sm text-gray-700",children:"I agree to the processing of my data for hair analysis and to receive personalized recommendations."})]})}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-[#493979] text-white py-3 px-6 rounded-lg font-medium hover:bg-[#fabec0] transition duration-200 cursor-pointer hover:cursor-grab",children:"Get My Hair Analysis"})]}),(0,r.jsxs)("p",{className:"text-xs text-gray-400 mt-6",children:["To request data deletion, email us at"," ",(0,r.jsx)("a",{href:"mailto:info@thecurllab.com",className:"text-purple-600",children:"info@thecurllab.com"})]})]}),"loading"===e&&(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-purple-600 mx-auto mb-6"}),(0,r.jsx)("h2",{className:"text-2xl font-semibold text-[#493979] mb-2",children:"Analyzing Your Curls"}),(0,r.jsx)("p",{className:"text-[#493979]",children:"Our signature Strand Scan™ Technology is scanning your hair texture..."}),(0,r.jsx)("p",{className:"text-sm text-[#493979] mt-4",children:"Remember: This is an AI estimate and may not capture all nuances of your unique hair."})]}),"error"===e&&(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[(0,r.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:[(0,r.jsx)("h2",{className:"font-bold text-lg mb-1",children:"Analysis Unavailable"}),(0,r.jsx)("p",{children:m||"Something went wrong. Please try again later."})]}),(0,r.jsx)("button",{onClick:g,className:"bg-purple-600 text-white py-3 px-6 rounded-lg cursor-pointer hover:cursor-grab font-medium hover:bg-purple-700 transition duration-200",children:"Try Again"}),(0,r.jsxs)("p",{className:"text-xs text-gray-400 mt-6",children:["For persistent issues, contact us at"," ",(0,r.jsx)("a",{href:"mailto:info@thecurllab.com",className:"text-purple-600",children:"info@thecurllab.com"})]})]}),"results"===e&&(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsxs)("h2",{className:"text-3xl font-bold text-[#493979] mb-2",children:["Your Hair Analysis,"," ",(0,r.jsx)("span",{className:"text-[#ff8589]",children:s.name})]}),(0,r.jsxs)("p",{className:"text-gray-500 mb-6",children:["Strand Scan™ Results • ",new Date().toLocaleDateString()]}),(0,r.jsx)("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:i}})]}),(0,r.jsxs)("div",{className:"p-8 bg-[#493979] border-t border-purple-700",children:[(0,r.jsxs)("h3",{className:"text-2xl md:text-4xl font-medium text-white mb-10 text-center",children:["Personalized Care Plans for ",(0,r.jsx)("br",{})," ",(0,r.jsxs)("span",{className:"text-[#ff8589] text-xl md:text-2xl font-bold bg-white rounded-lg px-2 py-1 inline-block mt-2",children:["Type ",h]})," ",(0,r.jsxs)("span",{className:"text-white inline-block pt-2 mt-2 mr-2",children:["Curls with"," "]}),(0,r.jsxs)("span",{className:"text-[#ff8589] text-xl md:text-2xl md:text-2xl font-bold bg-white rounded-lg px-2 py-1 inline-block mt-2",children:[p," Porosity"]})," "]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row flex-wrap gap-4",children:[(0,r.jsxs)("div",{className:"p-4 bg-[#fff1f2] rounded-lg shadow-sm border border-gray-200 text-center flex flex-col items-center",children:[" ",(0,r.jsx)("h4",{className:"font-medium text-[#493979] mb-2",children:"Moisture Retention System"}),(0,r.jsx)("p",{className:"text-sm text-[#493979] mb-3",children:"Seals in hydration for long-lasting, balanced moisture."}),(0,r.jsx)("button",{className:"w-full bg-[#493979] text-white py-2 px-4 rounded-md text-sm font-medium hover:bg-purple-700 transition cursor-pointer hover:cursor-grab",children:"Get Moisture Plan ($4.99)"})]}),(0,r.jsxs)("div",{className:"p-4 bg-[#fff1f2] rounded-lg shadow-sm border border-gray-200 text-center flex flex-col items-center",children:[" ",(0,r.jsx)("h4",{className:"font-medium text-[#493979] mb-2",children:"Growth & Strength Package"}),(0,r.jsx)("p",{className:"text-sm text-[#493979] mb-3",children:"Strengthens hair to reduce breakage for longer locks."}),(0,r.jsx)("button",{className:"cursor-pointer hover:cursor-grab w-full bg-[#493979] text-white py-2 px-4 rounded-md text-sm font-medium hover:bg-purple-700 transition",children:"Get Growth Plan ($4.99)"})]}),(0,r.jsxs)("div",{className:"p-4 bg-[#fff1f2] rounded-lg shadow-sm border border-gray-200 text-center flex flex-col items-center",children:[" ",(0,r.jsx)("h4",{className:"font-medium text-[#493979] mb-2",children:"Complete Curl Care System"}),(0,r.jsx)("p",{className:"text-sm text-[#493979] mb-3",children:"Everything you need for long perfect curls (Save 20%)"}),(0,r.jsx)("button",{className:"cursor-pointer hover:cursor-grab w-full bg-[#493979] text-white py-2 px-4 rounded-md text-sm font-medium hover:bg-purple-700 transition",children:"Get System ($7.99)"})]})]})]}),(0,r.jsx)("div",{className:"mt-8 m-10 text-[#493979]",children:(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Note:"})," This AI-generated analysis is an estimation and for informational purposes only; The Curly Lab is not liable for any adverse reactions, product performance, or outcomes."]})}),(0,r.jsxs)("div",{className:"px-8 py-6 border-t border-gray-200",children:[(0,r.jsx)("button",{onClick:g,className:"text-[#493979] hover:text-purple-800 font-medium",children:"← Back to Home"}),(0,r.jsxs)("p",{className:"text-xs text-gray-400 mt-4",children:["To request data deletion, email"," ",(0,r.jsx)("a",{href:"mailto:info@thecurllab.com",className:"underline",children:"info@thecurllab.com"})]})]})]})]})})}globalThis.__FIREBASE_APP_CHECK__||("true"===h.env.NEXT_PUBLIC_APPCHECK_DEBUG&&(self.FIREBASE_APPCHECK_DEBUG_TOKEN=!0),(0,u.Ay)(x,{provider:new u._u("6LdHqLorAAAAAGYV4O6k6TsbSAwRsXIPUB2d24Rq"),isTokenAutoRefreshEnabled:!0}),globalThis.__FIREBASE_APP_CHECK__=!0)},9569:(e,t,s)=>{Promise.resolve().then(s.bind(s,8858))}},e=>{var t=t=>e(e.s=t);e.O(0,[135,965,259,206,441,684,358],()=>t(9569)),_N_E=e.O()}]);